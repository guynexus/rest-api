(this["webpackJsonpplexxis-react-table"]=this["webpackJsonpplexxis-react-table"]||[]).push([[0],{106:function(e,t,n){},107:function(e,t,n){"use strict";n.r(t);var a=n(3),c=n(0),i=n.n(c),r=n(11),s=n.n(r),l=(n(98),n(13)),o=n(147),d=n(153),j=n(110),u=n(171),b=n(162),p=n(163),h=n(160),O=n(161),g=n(168),f=n(159),x=n(158),m=n(172),v=n(151),y=n(111),C=n(169),k=n(5),S=n(109),w=n(152),N=n(72),P=n.n(N),B=n(73),F=n.n(B),D=Object(o.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{position:"absolute",top:100,backgroundColor:"#eee",boxShadow:e.shadows[5]}}})),E=Object(k.a)((function(e){return{root:{backgroundColor:"","&:hover":{backgroundColor:"#fde"}}}}))(v.a);function T(e){var t=D(),n=Object(c.useState)(!1),i=Object(l.a)(n,2),r=i[0],s=i[1];return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(E,{onClick:function(){s(!0)},size:"small",children:[e.edit?Object(a.jsx)(P.a,{style:{fontSize:"0.8rem"}}):Object(a.jsx)(F.a,{fontSize:"small"})," "]}),Object(a.jsx)(C.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:t.modal,open:r,onClose:function(){s(!1)},closeAfterTransition:!0,BackdropComponent:w.a,BackdropProps:{timeout:500},children:Object(a.jsx)(S.a,{in:r,children:Object(a.jsx)("div",{className:t.paper,children:e.children})})})]})}var I=n(22),_=n.n(I),L=n(40),A=n(55),R=n(33),z=n(157),J=n(154),M=n(170),q={id:"",first_name:"John",last_name:"Smith",profession:"Fetchit",code:"F000",color:"Purple",city:"Mississauga",branch:"Abacus",assigned:!1},G=Object(o.a)((function(e){return{root:{},paper:{padding:e.spacing(2),textAlign:"center",backgroundColor:"#eee",alignSelf:"center"}}}));function H(e){var t=G(),n="http://localhost:8080/api/employees/",i=Object(c.useState)(e.data||q),r=Object(l.a)(i,2),s=r[0],o=r[1];function b(e){o((function(t){return Object(R.a)(Object(R.a)({},t),{},Object(A.a)({},e.target.name,e.target.value))}))}function p(){o((function(e){return Object(R.a)(Object(R.a)({},e),{},{assigned:!e.assigned})}))}function h(e){e.preventDefault(),window.location.reload()}function O(){return(O=Object(L.a)(_.a.mark((function e(t){var a,c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),delete(a=s).id,e.prev=3,e.next=6,fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:a})});case 6:return c=e.sent,e.next=9,c.json();case 9:i=e.sent,o((function(){return Object(R.a)({},i.data)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function g(){return(g=Object(L.a)(_.a.mark((function e(t){var a,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch(n+s.id,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:s})});case 4:return a=e.sent,e.next=7,a.json();case 7:c=e.sent,o((function(){return Object(R.a)({},c.data)})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}function f(){return(f=Object(L.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch(n+s.id,{method:"DELETE"});case 4:window.location.reload(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}function x(e){return e.replace(/_/g," ").replace(/(?:^|\s)\S/g,(function(e){return e.toUpperCase()}))}return Object(a.jsx)("div",{className:t.root,children:Object(a.jsx)(j.a,{className:t.paper,children:Object(a.jsxs)(d.a,{container:!0,spacing:1,direction:"column",alignContent:"left",children:[Object(a.jsx)(d.a,{item:!0,xs:12,alignItems:"left",justify:"left",children:s.id?"Employee: "+s.id:"New Employee"}),Object.keys(s).map((function(e,t){return Object(a.jsx)(a.Fragment,{children:"id"===e||"deleted_at"===e||"updated_at"===e||"created_at"===e?Object(a.jsx)(a.Fragment,{}):Object(a.jsx)(d.a,{item:!0,xs:12,alignContent:"left",children:"assigned"===e?Object(a.jsx)(J.a,{alignSelf:"left",label:x(e),control:Object(a.jsx)(u.a,{alignSelf:"left",id:e,name:e,checked:s.assigned,onChange:p})}):Object(a.jsx)(M.a,{id:e,name:e,defaultValue:Object.values(s)[t],label:x(e),disabled:"code"===e||"status"===e||"updated_at"===e||"created_at"===e,onChange:b,size:"small",variant:"outlined"})})})})),Object(a.jsx)(d.a,{item:!0,xs:12,children:s.id?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{onClick:function(e){return g.apply(this,arguments)},children:"Update"}),Object(a.jsx)(z.a,{onClick:h,children:"Done"}),Object(a.jsx)(z.a,{onClick:function(e){return f.apply(this,arguments)},children:"Delete"})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(z.a,{onClick:function(e){return O.apply(this,arguments)},children:"Create"}),Object(a.jsx)(z.a,{onClick:h,children:"Cancel"})]})})]})})})}var U=[{id:"code",numeric:!1,disablePadding:!1,label:"CODE"},{id:"first_name",numeric:!1,disablePadding:!1,label:"NAME"},{id:"profession",numeric:!1,disablePadding:!1,label:"PROFESSION"},{id:"city",numeric:!1,disablePadding:!1,label:"CITY"},{id:"branch",numeric:!1,disablePadding:!1,label:"BRANCH"}];function Q(e){var t=e.classes,n=e.order,c=e.orderBy,i=e.orderByID,r=e.onRequestSort,s=e.caption;return Object(a.jsxs)(x.a,{children:[Object(a.jsxs)(f.a,{children:[Object(a.jsx)(h.a,{colSpan:6,style:{textAlign:"left"},children:Object(a.jsx)(y.a,{className:t.title,variant:"h6",id:"tableTitle",component:"div",children:s})}),Object(a.jsx)(h.a,{colSpan:1,padding:"none",style:{textAlign:"right"},children:Object(a.jsx)(T,{children:Object(a.jsx)(H,{})})})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsxs)(h.a,{padding:"none",align:"center",children:[Object(a.jsx)(v.a,{onClick:i})," "]}),U.map((function(e){return Object(a.jsx)(h.a,{align:(e.numeric,"center"),padding:e.disablePadding?"none":"default",sortDirection:c===e.id&&n,children:Object(a.jsxs)(m.a,{active:c===e.id,direction:c===e.id?n:"asc",onClick:(i=e.id,function(e){r(e,i)}),children:[e.label,c===e.id?Object(a.jsx)("span",{className:t.visuallyHidden,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var i})),Object(a.jsx)(h.a,{align:"right",padding:"none"})]})]})}function V(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}function W(e,t){return"desc"===e?function(e,n){return V(e,n,t)}:function(e,n){return-V(e,n,t)}}function Y(e,t){var n=e.map((function(e,t){return[e,t]}));return n.sort((function(e,n){var a=t(e[0],n[0]);return 0!==a?a:e[1]-n[1]})),n.map((function(e){return e[0]}))}var K=Object(o.a)((function(e){return{root:{width:"100%",backgroundColor:"#eee"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function X(e){var t=e.employees,n=e.caption,i=0,r=K(),s=Object(c.useState)("asc"),o=Object(l.a)(s,2),x=o[0],m=o[1],v=Object(c.useState)("id"),y=Object(l.a)(v,2),C=y[0],k=y[1],S=Object(c.useState)([]),w=Object(l.a)(S,2),N=w[0],P=w[1],B=Object(c.useState)(0),F=Object(l.a)(B,2),D=F[0],E=F[1],I=Object(c.useState)(!0),_=Object(l.a)(I,2),L=_[0],A=_[1],R=Object(c.useState)(5),z=Object(l.a)(R,2),J=z[0],M=z[1],q=function(e){A(e.target.checked)},G=J-Math.min(J,t.length-D*J);return Object(a.jsx)("div",{className:r.root,children:Object(a.jsxs)(j.a,{className:r.paper,children:[Object(a.jsx)(O.a,{children:Object(a.jsxs)(b.a,{className:r.table,"aria-labelledby":"tableTitle",size:L?"small":"medium","aria-label":"enhanced table",children:[Object(a.jsx)(Q,{caption:n,classes:r,numSelected:N.length,order:x,orderBy:C,onSelectAllClick:function(e){if(e.target.checked){var n=t.map((function(e){return e.name}));P(n)}else P([])},onRequestSort:function(e,t){m(C===t&&"asc"===x?"desc":"asc"),k(t)},rowCount:t.length,orderByID:function(){return k("id")},handleChangeDense:q,dense:L}),Object(a.jsxs)(p.a,{children:[Y(t,W(x,C)).slice(D*J,D*J+J).map((function(e,t){var n,c=(n=e.name,-1!==N.indexOf(n));return Object(a.jsxs)(f.a,{hover:!0,onClick:function(t){return function(e,t){var n=N.indexOf(t),a=[];-1===n?a=a.concat(N,t):0===n?a=a.concat(N.slice(1)):n===N.length-1?a=a.concat(N.slice(0,-1)):n>0&&(a=a.concat(N.slice(0,n),N.slice(n+1))),P(a)}(0,e.name)},role:"checkbox","aria-checked":c,tabIndex:-1,selected:c,children:[Object(a.jsxs)(h.a,{align:"right",padding:"none",children:["\xa0",D*J+ ++i,"\xa0"]}),Object(a.jsx)(h.a,{align:"left",children:e.code}),Object(a.jsxs)(h.a,{align:"left",children:[e.first_name," ",e.last_name]}),Object(a.jsx)(h.a,{align:"left",children:e.profession}),Object(a.jsx)(h.a,{align:"left",children:e.city}),Object(a.jsx)(h.a,{align:"left",children:e.branch}),Object(a.jsxs)(h.a,{align:"right",padding:"none",children:["\xa0\xa0",0==e.assigned?"":"assigned  ",Object(a.jsx)(T,{edit:!0,children:Object(a.jsx)(H,{data:e})})]})]},e.name)})),G>0&&Object(a.jsx)(f.a,{style:{height:(L?33:53)*G},children:Object(a.jsx)(h.a,{colSpan:6})})]})]})}),Object(a.jsxs)(d.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"flex-end",children:[Object(a.jsx)("div",{style:{display:"inline"},children:Object(a.jsx)(g.a,{padding:"none",margin:"none",rowsPerPageOptions:[5,10,25],component:"div",count:t.length,rowsPerPage:J,page:D,onChangePage:function(e,t){E(t)},onChangeRowsPerPage:function(e){M(parseInt(e.target.value,10)),E(0)}})}),Object(a.jsx)("div",{style:{margin:"0.8rem 0.2rem"},children:Object(a.jsx)(u.a,{checked:L,size:"small",color:"#eee",padding:"2rem",onChange:q})})]})]})})}var Z=n(165),$=n(164),ee=n(74),te=n.n(ee),ne=Object(o.a)((function(e){return{root:{flexGrow:1},appBar:{backgroundColor:"#ccc"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1}}}));function ae(){var e=ne();return Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(Z.a,{position:"fixed",className:e.appBar,children:Object(a.jsxs)($.a,{children:[Object(a.jsx)(v.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu",children:Object(a.jsx)(te.a,{})}),Object(a.jsx)(y.a,{variant:"h6",className:e.title}),Object(a.jsx)(z.a,{color:"inherit",children:"Login"})]})}),Object(a.jsx)($.a,{})]})}var ce=[n.p+"static/media/sqlite.84de32c4.svg",n.p+"static/media/express-dark.bd60c4de.png",n.p+"static/media/react-table.f32934a0.svg",n.p+"static/media/nodejs-icon-1.902e2303.png"];n(106);function ie(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http://localhost:8080/api/employees/",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{method:"GET"},n=Object(c.useState)([]),a=Object(l.a)(n,2),i=a[0],r=a[1],s=Object(c.useState)(!1),o=Object(l.a)(s,2),d=o[0],j=o[1],u=Object(c.useState)(null),b=Object(l.a)(u,2),p=b[0],h=b[1];function O(){return g.apply(this,arguments)}function g(){return(g=Object(L.a)(_.a.mark((function n(){var a,c;return _.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return j(!0),n.prev=1,n.next=4,fetch(e,t);case 4:return a=n.sent,n.next=7,a.json();case 7:c=n.sent,r(c.data),j(!1),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(1),console.log(n.t0),h(n.t0);case 16:case"end":return n.stop()}}),n,null,[[1,12]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){O()}),[]),[i,p,d]}(),t=Object(l.a)(e,2),n=t[0],i=t[1];return Object(a.jsxs)(a.Fragment,{children:[" ",i?Object(a.jsx)("span",{children:"loading..."}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ae,{}),Object(a.jsx)(X,{caption:"Employees",employees:n}),Object(a.jsxs)("footer",{children:[Object(a.jsx)("img",{alt:"SQLite Logo",src:ce[0]}),Object(a.jsx)("img",{alt:"Express Logo",src:ce[1]}),Object(a.jsx)("img",{alt:"React Table Logo",style:{margin:"0px 2px"},src:ce[2]}),Object(a.jsx)("img",{alt:"Node JS Logo",src:ce[3]})]})]})," "]})}var re=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,174)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))},se=n(166),le=n(77),oe=n(75),de=n.n(oe),je=n(76),ue=n.n(je),be=Object(le.a)({palette:{primary:{main:de.a[500]},secondary:{main:ue.a[500]}}});s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(se.a,{theme:be,children:Object(a.jsx)(ie,{})})}),document.getElementById("root")),re()},98:function(e,t,n){}},[[107,1,2]]]);
//# sourceMappingURL=main.f3ee9955.chunk.js.map